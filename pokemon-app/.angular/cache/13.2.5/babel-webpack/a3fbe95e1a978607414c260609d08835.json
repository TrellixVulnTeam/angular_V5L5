{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\cparradoc\\\\Documents\\\\GitHub\\\\angular\\\\pokemon-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet PokemonListComponent = class PokemonListComponent {\n  //Inicializacion/llamada del servicio\n  constructor(RequestService) {\n    var _this = this;\n\n    this.RequestService = RequestService;\n    this.pokemonList = [];\n    this.pokemonFilteredList = []; //lista filtrada\n\n    this.baseURL = 'https://pokeapi.co/api/v2/pokemon/?limit=';\n    this.limit = 151; //primera generacion\n\n    this.RequestService.getCharacters(this.baseURL + this.limit).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (data) {\n        const results = data.results;\n        let pokemon = [];\n\n        for (let pokeIterable of results) {\n          let id = pokeIterable['url'].split('/');\n          pokemon.push(yield fetch(pokeIterable['url']).then( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator(function* (response) {\n              return response.json();\n            });\n\n            return function (_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }()).then( /*#__PURE__*/function () {\n            var _ref3 = _asyncToGenerator(function* (data) {\n              return {\n                id: Number(id[id.length - 2]),\n                name: pokeIterable['name'],\n                url: pokeIterable['url'],\n                image: data['sprites']['front_default']\n              };\n            });\n\n            return function (_x3) {\n              return _ref3.apply(this, arguments);\n            };\n          }()));\n        }\n\n        _this.pokemonList = pokemon;\n        _this.pokemonFilteredList = _this.pokemonList;\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  ngOnInit() {\n    callRequestService(this, this.baseURL + '25');\n  }\n\n  onChangeFilter(filter) {\n    const newList = this.pokemonList.filter(pokemon => pokemon.name.toLowerCase().includes(filter.trim().toLowerCase()));\n    this.pokemonFilteredList = newList;\n  }\n\n};\nPokemonListComponent = __decorate([Component({\n  selector: 'app-pokemon-list',\n  templateUrl: './pokemon-list.component.html',\n  styleUrls: ['./pokemon-list.component.scss']\n})], PokemonListComponent);\nexport { PokemonListComponent };\n\nfunction callRequestService(context, url) {\n  //getCharacters oara guardar los resultados\n  context.RequestService.getCharacters(url).subscribe( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator(function* (data) {\n      const results = data.results;\n      let pokemon = [];\n\n      for (let pokeIterable of results) {\n        let id = pokeIterable['url'].split('/');\n        pokemon.push(yield fetch(pokeIterable['url']).then( /*#__PURE__*/function () {\n          var _ref5 = _asyncToGenerator(function* (response) {\n            return response.json();\n          });\n\n          return function (_x5) {\n            return _ref5.apply(this, arguments);\n          };\n        }()).then( /*#__PURE__*/function () {\n          var _ref6 = _asyncToGenerator(function* (data) {\n            return {\n              id: Number(id[id.length - 2]),\n              name: pokeIterable['name'],\n              url: pokeIterable['url'],\n              image: data['sprites']['front_default']\n            };\n          });\n\n          return function (_x6) {\n            return _ref6.apply(this, arguments);\n          };\n        }()));\n      }\n\n      context.PokemonResponseInterface = data;\n      context.PokemonResponseInterface.results = pokemon;\n    });\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n}","map":{"version":3,"sources":["C:/Users/cparradoc/Documents/GitHub/angular/pokemon-app/src/app/pokemon-list/pokemon-list.component.ts"],"names":["__decorate","Component","PokemonListComponent","constructor","RequestService","pokemonList","pokemonFilteredList","baseURL","limit","getCharacters","subscribe","data","results","pokemon","pokeIterable","id","split","push","fetch","then","response","json","Number","length","name","url","image","ngOnInit","callRequestService","onChangeFilter","filter","newList","toLowerCase","includes","trim","selector","templateUrl","styleUrls","context","PokemonResponseInterface"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nlet PokemonListComponent = class PokemonListComponent {\r\n    //Inicializacion/llamada del servicio\r\n    constructor(RequestService) {\r\n        this.RequestService = RequestService;\r\n        this.pokemonList = [];\r\n        this.pokemonFilteredList = []; //lista filtrada\r\n        this.baseURL = 'https://pokeapi.co/api/v2/pokemon/?limit=';\r\n        this.limit = 151; //primera generacion\r\n        this.RequestService.getCharacters(this.baseURL + this.limit).\r\n            subscribe(async (data) => {\r\n            const results = data.results;\r\n            let pokemon = [];\r\n            for (let pokeIterable of results) {\r\n                let id = pokeIterable['url'].split('/');\r\n                pokemon.push(await fetch(pokeIterable['url']).then(async (response) => response.json())\r\n                    .then(async (data) => {\r\n                    return {\r\n                        id: Number(id[id.length - 2]),\r\n                        name: pokeIterable['name'],\r\n                        url: pokeIterable['url'],\r\n                        image: data['sprites']['front_default']\r\n                    };\r\n                }));\r\n            }\r\n            this.pokemonList = pokemon;\r\n            this.pokemonFilteredList = this.pokemonList;\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        callRequestService(this, this.baseURL + '25');\r\n    }\r\n    onChangeFilter(filter) {\r\n        const newList = this.pokemonList.filter(pokemon => pokemon.name.toLowerCase().includes(filter.trim().toLowerCase()));\r\n        this.pokemonFilteredList = newList;\r\n    }\r\n};\r\nPokemonListComponent = __decorate([\r\n    Component({\r\n        selector: 'app-pokemon-list',\r\n        templateUrl: './pokemon-list.component.html',\r\n        styleUrls: ['./pokemon-list.component.scss']\r\n    })\r\n], PokemonListComponent);\r\nexport { PokemonListComponent };\r\nfunction callRequestService(context, url) {\r\n    //getCharacters oara guardar los resultados\r\n    context.RequestService.getCharacters(url).subscribe(async (data) => {\r\n        const results = data.results;\r\n        let pokemon = [];\r\n        for (let pokeIterable of results) {\r\n            let id = pokeIterable['url'].split('/');\r\n            pokemon.push(await fetch(pokeIterable['url']).then(async (response) => response.json())\r\n                .then(async (data) => {\r\n                return {\r\n                    id: Number(id[id.length - 2]),\r\n                    name: pokeIterable['name'],\r\n                    url: pokeIterable['url'],\r\n                    image: data['sprites']['front_default']\r\n                };\r\n            }));\r\n        }\r\n        context.PokemonResponseInterface = data;\r\n        context.PokemonResponseInterface.results = pokemon;\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}